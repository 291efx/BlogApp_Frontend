<div class="container mt-4" *ngIf="post">
  <h2>{{ post.titulo }}</h2>
  <p class="text-muted">
    <i class="bi bi-person"></i> {{ post.usuario?.username }} <br>
    {{ post.fechaPublicacion | date:'fullDate' }}
  </p>

  <img [src]="post.archivo" alt="Imagen" class="img-fluid mb-3" *ngIf="post.archivo" style="max-height: 400px; object-fit: cover;" />

  <p>{{ post.descripcion }}</p>

  <hr>
  <h5>Comentarios ({{ post.comentarios?.length || 0 }})</h5>

  <div *ngFor="let c of post.comentarios" class="mb-2">
    <strong>{{ c.usuario?.username || 'An√≥nimo' }}:</strong>
    <p>{{ c.texto }}</p>
  </div>

  <form (ngSubmit)="comentar()" class="mt-3">
    <textarea [(ngModel)]="nuevoComentario" name="comentario" class="form-control" placeholder="Escribe tu comentario..." required></textarea>
    <button type="submit" class="btn btn-primary mt-2 w-100">Publicar comentario</button>
  </form>
</div>
